{"version":3,"sources":["../../../src/lib/logger.js"],"names":["loggers","console","_stdout","process","stdout","_stderr","stderr","name","cached","colorize","Colorizer","addColors","error","warn","help","data","info","debug","prompt","verbose","input","silly","logger","transports","Console","debugStdout","level","env","LOG_LEVEL","format","colors","bold","message"],"mappings":";;;;;;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AAKA,MAAMA,OAAO,GAAG,EAAhB,C,CAEA;AACA;;AACAC,OAAO,CAACC,OAAR,GAAkBC,OAAO,CAACC,MAA1B,C,CAAkC;AAClC;;AACAH,OAAO,CAACI,OAAR,GAAkBF,OAAO,CAACG,MAA1B,C,CAAkC;;eAElBC,IAAD,IAAkB;AAC/B,QAAMC,MAAM,GAAGR,OAAO,CAACO,IAAD,CAAtB;;AACA,MAAIC,MAAJ,EAAY;AACV,WAAOA,MAAP;AACD;;AACDC,oBAASC,SAAT,CAAmBC,SAAnB,CAA6B;AAC3BC,IAAAA,KAAK,EAAE,KADoB;AAE3BC,IAAAA,IAAI,EAAE,QAFqB;AAG3BC,IAAAA,IAAI,EAAE,MAHqB;AAI3BC,IAAAA,IAAI,EAAE,MAJqB;AAK3BC,IAAAA,IAAI,EAAE,OALqB;AAM3BC,IAAAA,KAAK,EAAE,MANoB;AAO3BC,IAAAA,MAAM,EAAE,MAPmB;AAQ3BC,IAAAA,OAAO,EAAE,MARkB;AAS3BC,IAAAA,KAAK,EAAE,MAToB;AAU3BC,IAAAA,KAAK,EAAE;AAVoB,GAA7B;;AAYA,QAAMC,MAAM,GAAG,2BAAa;AAC1BC,IAAAA,UAAU,EAAE,CACV,IAAIA,oBAAWC,OAAf,CAAuB;AACrBC,MAAAA,WAAW,EAAE,KADQ;AAErBC,MAAAA,KAAK,EAAEvB,OAAO,CAACwB,GAAR,CAAYC,SAAZ,IAAyB,MAFX;AAGrBC,MAAAA,MAAM,EAAE,sBACN,wBADM,EAEN,yBAFM,EAGN,qBAAQb,IAAD,IAAW,GAAEc,cAAOC,IAAP,CAAYxB,IAAZ,CAAkB,MAAKS,IAAI,CAACU,KAAM,MAAKV,IAAI,CAACgB,OAAQ,EAAxE,CAHM;AAHa,KAAvB,CADU;AADc,GAAb,CAAf;AAaAhC,EAAAA,OAAO,CAACO,IAAD,CAAP,GAAgBe,MAAhB;AACA,SAAOA,MAAP;AACD,C","sourcesContent":["// @flow\nimport colors from 'colors/safe';\n\nimport colorize from 'logform/colorize';\nimport combine from 'logform/combine';\nimport printf from 'logform/printf';\nimport timestamp from 'logform/timestamp';\nimport {\n  createLogger,\n  transports,\n} from 'winston';\n\nconst loggers = {};\n\n// Make Winston use stdout https://github.com/winstonjs/winston/blob/master/lib/winston/transports/console.js#L63-L66\n// $FlowFixMe\nconsole._stdout = process.stdout; // eslint-disable-line no-underscore-dangle,no-console\n// $FlowFixMe\nconsole._stderr = process.stderr; // eslint-disable-line no-underscore-dangle,no-console\n\nexport default (name: string) => {\n  const cached = loggers[name];\n  if (cached) {\n    return cached;\n  }\n  colorize.Colorizer.addColors({\n    error: 'red',\n    warn: 'yellow',\n    help: 'cyan',\n    data: 'grey',\n    info: 'green',\n    debug: 'blue',\n    prompt: 'grey',\n    verbose: 'cyan',\n    input: 'grey',\n    silly: 'magenta',\n  });\n  const logger = createLogger({\n    transports: [\n      new transports.Console({\n        debugStdout: false,\n        level: process.env.LOG_LEVEL || 'info',\n        format: combine(\n          colorize(),\n          timestamp(),\n          printf((info) => `${colors.bold(name)} - ${info.level} - ${info.message}`),\n        ),\n      }),\n    ],\n  });\n  loggers[name] = logger;\n  return logger;\n};\n"],"file":"logger.js"}