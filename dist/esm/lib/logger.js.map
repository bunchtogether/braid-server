{"version":3,"sources":["../../../src/lib/logger.js"],"names":["colors","colorize","combine","printf","timestamp","createLogger","transports","loggers","console","_stdout","process","stdout","_stderr","stderr","name","cached","Colorizer","addColors","error","warn","help","data","info","debug","prompt","verbose","input","silly","logger","Console","debugStdout","level","env","LOG_LEVEL","format","bold","message"],"mappings":"AACA,OAAOA,MAAP,MAAmB,aAAnB;AAEA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,SACEC,YADF,EAEEC,UAFF,QAGO,SAHP;AAKA,MAAMC,OAAO,GAAG,EAAhB,C,CAEA;AACA;;AACAC,OAAO,CAACC,OAAR,GAAkBC,OAAO,CAACC,MAA1B,C,CAAkC;AAClC;;AACAH,OAAO,CAACI,OAAR,GAAkBF,OAAO,CAACG,MAA1B,C,CAAkC;;AAElC,gBAAgBC,IAAD,IAAkB;AAC/B,QAAMC,MAAM,GAAGR,OAAO,CAACO,IAAD,CAAtB;;AACA,MAAIC,MAAJ,EAAY;AACV,WAAOA,MAAP;AACD;;AACDd,EAAAA,QAAQ,CAACe,SAAT,CAAmBC,SAAnB,CAA6B;AAC3BC,IAAAA,KAAK,EAAE,KADoB;AAE3BC,IAAAA,IAAI,EAAE,QAFqB;AAG3BC,IAAAA,IAAI,EAAE,MAHqB;AAI3BC,IAAAA,IAAI,EAAE,MAJqB;AAK3BC,IAAAA,IAAI,EAAE,OALqB;AAM3BC,IAAAA,KAAK,EAAE,MANoB;AAO3BC,IAAAA,MAAM,EAAE,MAPmB;AAQ3BC,IAAAA,OAAO,EAAE,MARkB;AAS3BC,IAAAA,KAAK,EAAE,MAToB;AAU3BC,IAAAA,KAAK,EAAE;AAVoB,GAA7B;AAYA,QAAMC,MAAM,GAAGvB,YAAY,CAAC;AAC1BC,IAAAA,UAAU,EAAE,CACV,IAAIA,UAAU,CAACuB,OAAf,CAAuB;AACrBC,MAAAA,WAAW,EAAE,KADQ;AAErBC,MAAAA,KAAK,EAAErB,OAAO,CAACsB,GAAR,CAAYC,SAAZ,IAAyB,MAFX;AAGrBC,MAAAA,MAAM,EAAEhC,OAAO,CACbD,QAAQ,EADK,EAEbG,SAAS,EAFI,EAGbD,MAAM,CAAEmB,IAAD,IAAW,GAAEtB,MAAM,CAACmC,IAAP,CAAYrB,IAAZ,CAAkB,MAAKQ,IAAI,CAACS,KAAM,MAAKT,IAAI,CAACc,OAAQ,EAAlE,CAHO;AAHM,KAAvB,CADU;AADc,GAAD,CAA3B;AAaA7B,EAAAA,OAAO,CAACO,IAAD,CAAP,GAAgBc,MAAhB;AACA,SAAOA,MAAP;AACD,CAhCD","sourcesContent":["// @flow\nimport colors from 'colors/safe';\n\nimport colorize from 'logform/colorize';\nimport combine from 'logform/combine';\nimport printf from 'logform/printf';\nimport timestamp from 'logform/timestamp';\nimport {\n  createLogger,\n  transports,\n} from 'winston';\n\nconst loggers = {};\n\n// Make Winston use stdout https://github.com/winstonjs/winston/blob/master/lib/winston/transports/console.js#L63-L66\n// $FlowFixMe\nconsole._stdout = process.stdout; // eslint-disable-line no-underscore-dangle,no-console\n// $FlowFixMe\nconsole._stderr = process.stderr; // eslint-disable-line no-underscore-dangle,no-console\n\nexport default (name: string) => {\n  const cached = loggers[name];\n  if (cached) {\n    return cached;\n  }\n  colorize.Colorizer.addColors({\n    error: 'red',\n    warn: 'yellow',\n    help: 'cyan',\n    data: 'grey',\n    info: 'green',\n    debug: 'blue',\n    prompt: 'grey',\n    verbose: 'cyan',\n    input: 'grey',\n    silly: 'magenta',\n  });\n  const logger = createLogger({\n    transports: [\n      new transports.Console({\n        debugStdout: false,\n        level: process.env.LOG_LEVEL || 'info',\n        format: combine(\n          colorize(),\n          timestamp(),\n          printf((info) => `${colors.bold(name)} - ${info.level} - ${info.message}`),\n        ),\n      }),\n    ],\n  });\n  loggers[name] = logger;\n  return logger;\n};\n"],"file":"logger.js"}